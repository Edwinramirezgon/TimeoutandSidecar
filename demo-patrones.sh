#!/bin/bash

echo "ğŸ¯ DEMO DE PATRONES INDEPENDIENTES"
echo "=================================="
echo ""

echo "ğŸ“‹ Este proyecto demuestra DOS patrones completamente independientes:"
echo ""
echo "ğŸ“Š PATRÃ“N TIMEOUT (Directo):"
echo "   â€¢ Cliente â†’ Router â†’ API Directa â†’ Servicio Lento"
echo "   â€¢ Sin proxy intermedio que aplique polÃ­ticas"
echo "   â€¢ Fallbacks manuales en cÃ³digo"
echo ""
echo "ğŸ›¡ï¸ PATRÃ“N SIDECAR (Con Proxy):"
echo "   â€¢ Cliente â†’ Router â†’ Envoy Sidecar â†’ API â†’ Servicio Lento"
echo "   â€¢ Proxy intercepta y aplica retries automÃ¡ticos"
echo "   â€¢ PolÃ­ticas declarativas en YAML"
echo ""

echo "ğŸš€ CÃ“MO DEMOSTRAR:"
echo ""
echo "1. Ejecuta: docker compose up --build (en infra/)"
echo "2. Ejecuta: npm run dev (en apps/web-client/)"
echo "3. Abre: http://localhost:5173"
echo "4. SELECCIONA EL PATRÃ“N en la UI"
echo "5. Observa logs diferentes para cada patrÃ³n"
echo ""

echo "ğŸ” DIFERENCIAS CLAVE:"
echo ""
echo "| Aspecto    | PatrÃ³n Timeout | PatrÃ³n Sidecar |"
echo "|------------|----------------|----------------|"
echo "| Proxy      | âŒ Directo     | âœ… Envoy       |"
echo "| Retries    | âŒ Sin retries | âœ… 1 retry     |"
echo "| Headers    | timeout-proxy  | x-envoy-*      |"
echo "| Endpoint   | /api/timeout   | /api/sidecar   |"
echo ""

echo "ğŸ“š DOCUMENTACIÃ“N:"
echo "   â€¢ README.md - VisiÃ³n general"
echo "   â€¢ PATRONES.md - Detalles tÃ©cnicos de cada patrÃ³n"
echo ""

echo "ğŸ¯ CADA PATRÃ“N ES COMPLETAMENTE INDEPENDIENTE"
echo "   Puedes demostrar uno sin el otro"